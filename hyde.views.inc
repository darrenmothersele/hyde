<?php


function hyde_views_plugins() {
  return array(
    'style' => array(
      'hyde_list_styles' => array(
        'title' => t('Hyde Generated List Styles'),
        'help' => t('Displays content using the styles generated by Hyde'),
        'handler' => 'views_plugin_style_hyde_generated',
        'theme' => 'hyde_views_list',
        'uses row plugin' => TRUE,
        'uses fields' => TRUE,
        'uses options' => TRUE,
        'type' => 'normal',
        'even empty' => TRUE,
      ),
    ),
  );
}



function theme_hyde_views_list($vars) {

  $theme = hyde_get_theme();
  $style = $theme->list_styles[$vars['options']['style_name']];

  //$title = 'temp';
  $header = '';
  $content = implode('', $vars['rows']);
  ob_start();
  eval('?>' . $style['template'] . '<?php ');
  return ob_get_clean();
}
